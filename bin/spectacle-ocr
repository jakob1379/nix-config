#!/usr/bin/env bash
set -euo pipefail
IFS=$'\n\t'

temp_file=$(mktemp /tmp/spectacle.XXXXXX.png)
spectacle -rnbo "$temp_file"

if [ -f "$temp_file" ]; then
    for i in {0..13}; do
        echo -e "\n RUNNING PSM $i \n"
        tesseract "$temp_file" stdout --psm "$i"
        read -rp "Press to continue... "
    done
    rm "$temp_file"
else
    echo "Error: Screenshot failed."
    exit 1
fi
